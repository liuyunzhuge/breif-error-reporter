!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).EventReporter=t()}(this,function(){"use strict";function u(e,t){return Object.prototype.toString.call(e)==="[object "+(t||"Object")+"]"}function e(e,t){var n,o,r;o=!1,(n=document.createElement("script")).type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(){o||this.readyState&&"complete"!==this.readyState||(o=!0,u(t,"Function")&&t())},(r=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,r)}["log","info","warn","debug","error"].forEach(function(e){var t=console[e];console[e]=function(){return i&&r.push({logType:e,logs:arguments}),t.apply(console,arguments)}});var l={vConsoleSrc:"//cdn.bootcss.com/vConsole/3.3.4/vconsole.min.js",maximumStackLines:20,onReport:function(){}},o=null,r=[],i=!0;return window.onerror=function(e,t,n,o,r){var i,c,s,a=e;return r&&r.stack&&(~(c=(i=r).stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,l.maximumStackLines).join("@").replace(/\?[^:]+/gi,"")).indexOf(s=""+i)||(c=s+"@"+c),a=c),u(a,"Event")&&(a+=a.type?"--"+a.type+"--"+(a.target?a.target.tagName+"::"+a.target.src:""):""),~e.toLowerCase().indexOf("script error")?console.error("Script Error: See Browser Console for Detail"):l.onReport(a),!1},{setConfig:function(e){Object.assign(l,e)},enableVConsole:function(n){if(o&&n)return function(){try{o&&o.show()}catch(e){}}();e(l.vConsoleSrc,function(){o=o||new VConsole({defaultPlugins:["system","network","element","storage"],maxLogNumber:5e3,onReady:function(){n&&setTimeout(function(){return o.show()},0)}}),i=!1;for(var e=r.length,t=0;t<e;t++)r[t].noOrigin=!0,o.pluginList.default.printLog(r[t]);r=[]})},loadScript:e}});
